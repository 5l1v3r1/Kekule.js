<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Composer Widget &mdash; Kekule Tutorial 2016.4 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2016.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Kekule Tutorial 2016.4 documentation" href="../index.html" />
    <link rel="prev" title="Chem Viewer Widget" href="chemViewer.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="chemViewer.html" title="Chem Viewer Widget"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kekule Tutorial 2016.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Composer Widget</a><ul>
<li><a class="reference internal" href="#composer-ui">Composer UI</a></li>
<li><a class="reference internal" href="#creating-composer">Creating Composer</a></li>
<li><a class="reference internal" href="#loading-and-retrieving-molecules-in-composer">Loading and Retrieving Molecules in Composer</a></li>
<li><a class="reference internal" href="#get-selected-objects">Get Selected Objects</a></li>
<li><a class="reference internal" href="#operation-history">Operation History</a></li>
<li><a class="reference internal" href="#limiting-the-functions-of-composer">Limiting the Functions of Composer</a></li>
<li><a class="reference internal" href="#customize-ui-of-composer">Customize UI of Composer</a></li>
<li><a class="reference internal" href="#presets">Presets</a></li>
<li><a class="reference internal" href="#more-configurations">More Configurations</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="chemViewer.html"
                        title="previous chapter">Chem Viewer Widget</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="composer-widget">
<h1>Composer Widget<a class="headerlink" href="#composer-widget" title="Permalink to this headline">¶</a></h1>
<p>In the toolkit, composer is the dominate widget to input chemical structures.</p>
<div class="section" id="composer-ui">
<h2>Composer UI<a class="headerlink" href="#composer-ui" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id14">
<img alt="../_images/composerUI.png" src="../_images/composerUI.png" />
<p class="caption"><span class="caption-text">&lt; Composer UI, with object inspect opened &gt;</span></p>
</div>
<p>The primary part of composer is a input panel, in which user can draw chemical structures and
other objects. Around it there exist four toolbars as shown in figure above. The common toolbar
provides general purpose functions such as load/save, undo/redo and copy/paste:</p>
<table border="1" class="docutils" id="id15">
<caption><span class="caption-text">Buttons in common toolbar</span><a class="headerlink" href="#id15" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="13%" />
<col width="21%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Button</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><img alt="B0" src="../_images/btnNewDoc.png" /></td>
<td>newDoc</td>
<td>Create a new blank document to edit.</td>
</tr>
<tr class="row-odd"><td><img alt="B1" src="../_images/btnLoad.png" /></td>
<td>loadData</td>
<td>Load external data file to composer.</td>
</tr>
<tr class="row-even"><td><img alt="B2" src="../_images/btnSave.png" /></td>
<td>saveData</td>
<td>Save object inside composer to file.</td>
</tr>
<tr class="row-odd"><td><img alt="B3" src="../_images/btnUndo.png" /></td>
<td>undo</td>
<td>Undo previous operation.</td>
</tr>
<tr class="row-even"><td><img alt="B4" src="../_images/btnRedo.png" /></td>
<td>redo</td>
<td>Redo last operation.</td>
</tr>
<tr class="row-odd"><td><img alt="B5" src="../_images/btnCopy.png" /></td>
<td>copy</td>
<td>Copy selection to internal clipboard. <a class="footnote-reference" href="#clipboard" id="id1">[1]</a></td>
</tr>
<tr class="row-even"><td><img alt="B6" src="../_images/btnCut.png" /></td>
<td>cut</td>
<td>Cut selection to internal clipboard. <a class="footnote-reference" href="#clipboard" id="id2">[1]</a></td>
</tr>
<tr class="row-odd"><td><img alt="B7" src="../_images/btnPaste.png" /></td>
<td>paste</td>
<td>Paste from clipboard. <a class="footnote-reference" href="#clipboard" id="id3">[1]</a></td>
</tr>
<tr class="row-even"><td><img alt="B8" src="../_images/btnSettings.png" /></td>
<td>config</td>
<td>Change the configurations of composer.</td>
</tr>
<tr class="row-odd"><td><img alt="B9" src="../_images/btnInspect.png" /></td>
<td>objInspector</td>
<td>Open or hide object inspector panel.</td>
</tr>
</tbody>
</table>
<p>The zoom toolbar simply contains zoom in/out and reset buttons:</p>
<table border="1" class="docutils" id="id16">
<caption><span class="caption-text">Buttons in zoom toolbar</span><a class="headerlink" href="#id16" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="18%" />
<col width="29%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Button</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><img alt="B10" src="../_images/btnZoomIn.png" /></td>
<td>zoomIn</td>
<td>Zoom in objects in composer.</td>
</tr>
<tr class="row-odd"><td><img alt="B11" src="../_images/btnZoomOut.png" /></td>
<td>zoomOut</td>
<td>Zoom out objects in composer.</td>
</tr>
<tr class="row-even"><td><img alt="B12" src="../_images/btnReset.png" /></td>
<td>reset</td>
<td>Reset zoom level to 1.</td>
</tr>
</tbody>
</table>
<p>The chem toolbar enables user to input, remove or select different types of chemistry objects.
The operating practices of inputting molecule are quite similar to existing chemistry editors
like ChemDraw and JME.</p>
<table border="1" class="docutils" id="id17">
<caption><span class="caption-text">Buttons in chem toolbar</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="11%" />
<col width="18%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Button</th>
<th class="head">Name</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><img alt="B20" src="../_images/btnSelect.png" /></td>
<td>manipulate</td>
<td>Select objects in composer.</td>
</tr>
<tr class="row-odd"><td><img alt="B21" src="../_images/btnErase.png" /></td>
<td>erase</td>
<td>Remove selection in composer.</td>
</tr>
<tr class="row-even"><td><img alt="B22" src="../_images/btnBond.png" /></td>
<td>bond</td>
<td>Input different types of molecule bond.</td>
</tr>
<tr class="row-odd"><td><img alt="B23" src="../_images/btnAtom.png" /></td>
<td>atom</td>
<td>Input atom symbol.</td>
</tr>
<tr class="row-even"><td><img alt="B24" src="../_images/btnFormula.png" /></td>
<td>formula</td>
<td>Input molecule formula.</td>
</tr>
<tr class="row-odd"><td><img alt="B25" src="../_images/btnRing.png" /></td>
<td>ring</td>
<td>Input typical ring structures with 3-9 atoms.</td>
</tr>
<tr class="row-even"><td><img alt="B26" src="../_images/btnCharge.png" /></td>
<td>charge</td>
<td>Input negative or positive charge on atom.</td>
</tr>
<tr class="row-odd"><td><img alt="B27" src="../_images/btnArrow.png" /></td>
<td>glyph</td>
<td>Input glyphs and symbols such as reaction arrow and heat symbol.</td>
</tr>
<tr class="row-even"><td><img alt="B28" src="../_images/btnText.png" /></td>
<td>textBlock</td>
<td>Input a block of plain text.</td>
</tr>
</tbody>
</table>
<p>The style toolbar consists of two drop box to select font name and size of text,
three drop button to change text direction and horizontal/vertical alignment and
a drop button to change change color of objects.</p>
<p>All those toolbars are configurable and we will discuss it later.</p>
<p>A special object inspector can be opened by click on <em>objInspector</em> button in common toolbar.
It provides a structural view of all objects in editor and enables user change all properties
of selected objects. The concept of object inspector is borrowed from some programming environments
and not familiar with chemists, but it is real helpful to control some unusual aspect of atoms,
bonds and other objects.</p>
</div>
<div class="section" id="creating-composer">
<h2>Creating Composer<a class="headerlink" href="#creating-composer" title="Permalink to this headline">¶</a></h2>
<p>For developers, creating a composer is as simple as other widgets in the toolkit:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">composer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kekule</span><span class="p">.</span><span class="nx">Editor</span><span class="p">.</span><span class="nx">Composer</span><span class="p">(</span><span class="nb">document</span><span class="p">);</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setDimension</span><span class="p">(</span><span class="s1">&#39;600px&#39;</span><span class="p">,</span> <span class="s1">&#39;400px&#39;</span><span class="p">);</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">appendToElem</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;parent&#39;</span><span class="p">)).</span><span class="nx">setChemObj</span><span class="p">(</span><span class="nx">molecule</span><span class="p">);</span>

<span class="c1">// or create on existing element</span>
<span class="kd">var</span> <span class="nx">composer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Kekule</span><span class="p">.</span><span class="nx">Editor</span><span class="p">.</span><span class="nx">Composer</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;div1&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>In HTML binding way:<a class="footnote-reference" href="#example" id="id4">[2]</a></p>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;composer&quot;</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;width:600px;height:400px&quot;</span> <span class="na">data-widget</span><span class="o">=</span><span class="s">&quot;Kekule.Editor.Composer&quot;</span> <span class="na">data-chem-obj</span><span class="o">=</span><span class="s">&quot;url(#molecule)&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>Note the <code class="docutils literal"><span class="pre">chemObj</span></code> property is set by <code class="docutils literal"><span class="pre">data-chem-obj</span></code> attribute in the HTML code above,
thus molecule from that <a class="reference internal" href="molIO.html#loadingfromresource"><span class="std std-ref">resource</span></a>
(<code class="docutils literal"><span class="pre">&quot;url(#molecule)&quot;</span></code>) will be loaded automatically into the composer.</p>
</div>
<div class="section" id="loading-and-retrieving-molecules-in-composer">
<h2>Loading and Retrieving Molecules in Composer<a class="headerlink" href="#loading-and-retrieving-molecules-in-composer" title="Permalink to this headline">¶</a></h2>
<p>Similar to chem viewer, you can load object in composer by <code class="docutils literal"><span class="pre">chemObj</span></code> property.
The following code will load a molecule into composer:<a class="footnote-reference" href="#example" id="id5">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span><span class="p">.</span><span class="nx">setChemObj</span><span class="p">(</span><span class="nx">molecule</span><span class="p">);</span>
</pre></div>
</div>
<p>However, after loading the molecule, if checking the object inspector, you may find
that the root object in composer is not molecule, but a <em>ChemDocument</em>, with molecule
as its child. This is because composer supports editing multiple molecules (and other types
of objects) in one document (like ChemDraw), so a extra root <em>ChemDocument</em> instance
need to be created automatically to hold all those molecules. So the <code class="docutils literal"><span class="pre">chemObj</span></code> property
getter will always returns this root chem document.</p>
<div class="figure align-center" id="id18">
<img alt="../_images/molInComposer.png" src="../_images/molInComposer.png" />
<p class="caption"><span class="caption-text">&lt; The structure of object tree in composer after loading a molecule  &gt;</span></p>
</div>
<div class="figure align-center" id="id19">
<img alt="../_images/composerWithManyObjects.png" src="../_images/composerWithManyObjects.png" />
<p class="caption"><span class="caption-text">&lt; The structure of object tree in composer with multiple molecules and objects  &gt;</span></p>
</div>
<p>If you want to retrieve a certain type of child objects in document, method <code class="docutils literal"><span class="pre">exportObjs</span></code>
can be used:<a class="footnote-reference" href="#example" id="id6">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// Get all molecules inside editor</span>
<span class="kd">var</span> <span class="nx">mols</span> <span class="o">=</span> <span class="nx">getComposer</span><span class="p">().</span><span class="nx">exportObjs</span><span class="p">(</span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Molecule</span><span class="p">);</span>
<span class="c1">// dump information</span>
<span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s1">&#39;Molecule count: &#39;</span> <span class="o">+</span> <span class="nx">mols</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="s1">&#39;\n&#39;</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">mols</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kd">var</span> <span class="nx">mol</span> <span class="o">=</span> <span class="nx">mols</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
  <span class="nx">msg</span> <span class="o">+=</span> <span class="s1">&#39;--------------------\n&#39;</span> <span class="o">+</span> <span class="nx">Kekule</span><span class="p">.</span><span class="nx">IO</span><span class="p">.</span><span class="nx">saveFormatData</span><span class="p">(</span><span class="nx">mol</span><span class="p">,</span> <span class="s1">&#39;cml&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
</pre></div>
</div>
<p>The following codes get the first molecule in composer, then display it in
a chem viewer widget:<a class="footnote-reference" href="#example" id="id7">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// Get all molecules inside editor</span>
<span class="kd">var</span> <span class="nx">molecule</span> <span class="o">=</span> <span class="nx">composer</span><span class="p">.</span><span class="nx">exportObjs</span><span class="p">(</span><span class="nx">Kekule</span><span class="p">.</span><span class="nx">Molecule</span><span class="p">)[</span><span class="mi">0</span><span class="p">];</span>
<span class="c1">// Display in viewer</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">molecule</span><span class="p">)</span>
  <span class="nx">Kekule</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">getWidgetById</span><span class="p">(</span><span class="s1">&#39;viewer&#39;</span><span class="p">).</span><span class="nx">setChemObj</span><span class="p">(</span><span class="nx">molecule</span><span class="p">);</span>
</pre></div>
</div>
<p>Of course, the viewer is also able to display the whole chem document:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">chemDoc</span> <span class="o">=</span> <span class="nx">composer</span><span class="p">.</span><span class="nx">getChemObj</span><span class="p">();</span>
<span class="nx">Kekule</span><span class="p">.</span><span class="nx">Widget</span><span class="p">.</span><span class="nx">getWidgetById</span><span class="p">(</span><span class="s1">&#39;viewer&#39;</span><span class="p">).</span><span class="nx">setChemObj</span><span class="p">(</span><span class="nx">chemDoc</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="get-selected-objects">
<h2>Get Selected Objects<a class="headerlink" href="#get-selected-objects" title="Permalink to this headline">¶</a></h2>
<p>User often selects parts of molecule in composer. The selection information
can be get by <code class="docutils literal"><span class="pre">selection</span></code> property of composer:<a class="footnote-reference" href="#example" id="id8">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">selObjs</span> <span class="o">=</span> <span class="nx">composer</span><span class="p">.</span><span class="nx">getSelection</span><span class="p">();</span>
<span class="c1">// dump information</span>
<span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="s1">&#39;Selected objects count: &#39;</span> <span class="o">+</span> <span class="nx">selObjs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">selObjs</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">l</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span><span class="p">)</span>
<span class="p">{</span>
  <span class="nx">msg</span> <span class="o">+=</span> <span class="s1">&#39;\n&#39;</span> <span class="o">+</span> <span class="nx">selObjs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getClassName</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;: &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">selObjs</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">getId</span><span class="p">()</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nx">alert</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
</pre></div>
</div>
<p>The codes above usually will prints all selected atoms and bonds in a molecule.</p>
<img alt="../_images/composerGetSelection.png" src="../_images/composerGetSelection.png" />
</div>
<div class="section" id="operation-history">
<h2>Operation History<a class="headerlink" href="#operation-history" title="Permalink to this headline">¶</a></h2>
<p>In the composer, user may modify molecules and other types of objects.
All modifications are recorded by default. So unlimited undo/redo action is
possible:<a class="footnote-reference" href="#example" id="id9">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span><span class="p">.</span><span class="nx">undo</span><span class="p">();</span>  <span class="c1">// undo last modification</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">redo</span><span class="p">();</span>  <span class="c1">// redo last modification</span>
</pre></div>
</div>
<p>If the operation history is not necessary, you can disable it too:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span><span class="p">.</span><span class="nx">setEnableOperHistory</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="limiting-the-functions-of-composer">
<h2>Limiting the Functions of Composer<a class="headerlink" href="#limiting-the-functions-of-composer" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, you may want to limit the ability of a composer, for example, disable
creating new document or disable loading objects:<a class="footnote-reference" href="#example" id="id10">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span><span class="p">.</span><span class="nx">setEnableCreateNewDoc</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setEnableLoadNewFile</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
<p>Such limitations forces user to focus on currently objects in composer.</p>
<p>Another limitation is disable creating new child object in composer. It is quite
useful to force user to only edit one molecule at once:<a class="footnote-reference" href="#example" id="id11">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span><span class="p">.</span><span class="nx">setAllowCreateNewChild</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="customize-ui-of-composer">
<h2>Customize UI of Composer<a class="headerlink" href="#customize-ui-of-composer" title="Permalink to this headline">¶</a></h2>
<p>All toolbars in composers can be easily customized like chem viewer:<a class="footnote-reference" href="#example" id="id12">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// Set displayed buttons in common and zoom toolbar</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setCommonToolButtons</span><span class="p">([</span><span class="s1">&#39;newDoc&#39;</span><span class="p">,</span> <span class="s1">&#39;loadData&#39;</span><span class="p">,</span> <span class="s1">&#39;saveData&#39;</span><span class="p">,</span> <span class="s1">&#39;zoomIn&#39;</span><span class="p">,</span> <span class="s1">&#39;zoomOut&#39;</span><span class="p">]);</span>

<span class="c1">// Set displayed buttons in chem toolbar</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setChemToolButtons</span><span class="p">([</span><span class="s1">&#39;manipulate&#39;</span><span class="p">,</span> <span class="s1">&#39;erase&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="s1">&#39;ring&#39;</span><span class="p">,</span> <span class="s1">&#39;charge&#39;</span><span class="p">]);</span>

<span class="c1">// Set displayed components in style toolbar</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setStyleToolComponentNames</span><span class="p">([</span><span class="s1">&#39;color&#39;</span><span class="p">,</span> <span class="s1">&#39;textDirection&#39;</span><span class="p">,</span> <span class="s1">&#39;textAlign&#39;</span><span class="p">]);</span>
<span class="c1">// hide style toolbar totally</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setEnableStyleToolbar</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="presets">
<h2>Presets<a class="headerlink" href="#presets" title="Permalink to this headline">¶</a></h2>
<p>Some typical presets of composer are also provided as a shortcut of setting varies of properties.
Change to a preset by method <code class="docutils literal"><span class="pre">setPredefinedSetting</span></code>:<a class="footnote-reference" href="#example" id="id13">[2]</a></p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// change to preset fullFunc</span>
<span class="nx">composer</span><span class="p">.</span><span class="nx">setPredefinedSetting</span><span class="p">(</span><span class="s1">&#39;fullFunc&#39;</span><span class="p">);</span>
</pre></div>
</div>
<dl class="docutils">
<dt><strong>&#8216;fullFunc&#8217;</strong></dt>
<dd>Composer with full functions, toolbar with all buttons. Equals to:</dd>
</dl>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span>
  <span class="p">.</span><span class="nx">setEnableStyleToolbar</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableOperHistory</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableLoadNewFile</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableCreateNewDoc</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setAllowCreateNewChild</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setCommonToolButtons</span><span class="p">([</span><span class="s1">&#39;newDoc&#39;</span><span class="p">,</span> <span class="s1">&#39;loadData&#39;</span><span class="p">,</span> <span class="s1">&#39;saveData&#39;</span><span class="p">,</span> <span class="s1">&#39;undo&#39;</span><span class="p">,</span> <span class="s1">&#39;redo&#39;</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">,</span> <span class="s1">&#39;cut&#39;</span><span class="p">,</span> <span class="s1">&#39;paste&#39;</span><span class="p">,</span>
    <span class="s1">&#39;zoomIn&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">,</span> <span class="s1">&#39;zoomOut&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span><span class="p">,</span> <span class="s1">&#39;objInspector&#39;</span><span class="p">])</span>   <span class="c1">// create all default common tool buttons</span>
  <span class="p">.</span><span class="nx">setChemToolButtons</span><span class="p">([</span><span class="s1">&#39;manipulate&#39;</span><span class="p">,</span> <span class="s1">&#39;erase&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="s1">&#39;formula&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ring&#39;</span><span class="p">,</span> <span class="s1">&#39;charge&#39;</span><span class="p">,</span> <span class="s1">&#39;glyph&#39;</span><span class="p">,</span> <span class="s1">&#39;textBlock&#39;</span><span class="p">])</span>   <span class="c1">// create all default chem tool buttons</span>
  <span class="p">.</span><span class="nx">setStyleToolComponentNames</span><span class="p">([</span><span class="s1">&#39;fontName&#39;</span><span class="p">,</span> <span class="s1">&#39;fontSize&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span>
    <span class="s1">&#39;textDirection&#39;</span><span class="p">,</span> <span class="s1">&#39;textAlign&#39;</span><span class="p">]);</span>  <span class="c1">// create all default style components</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/composerFullFunc.png" src="../_images/composerFullFunc.png" />
</div>
<dl class="docutils">
<dt><strong>&#8216;molOnly&#8217;</strong></dt>
<dd>Displays only buttons related with molecule. Useful for restricting user input to molecule.</dd>
</dl>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span>
  <span class="p">.</span><span class="nx">setEnableStyleToolbar</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableOperHistory</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableLoadNewFile</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setEnableCreateNewDoc</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setAllowCreateNewChild</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
  <span class="p">.</span><span class="nx">setCommonToolButtons</span><span class="p">([</span><span class="s1">&#39;newDoc&#39;</span><span class="p">,</span> <span class="s1">&#39;loadData&#39;</span><span class="p">,</span> <span class="s1">&#39;saveData&#39;</span><span class="p">,</span> <span class="s1">&#39;undo&#39;</span><span class="p">,</span> <span class="s1">&#39;redo&#39;</span><span class="p">,</span> <span class="s1">&#39;copy&#39;</span><span class="p">,</span> <span class="s1">&#39;cut&#39;</span><span class="p">,</span> <span class="s1">&#39;paste&#39;</span><span class="p">,</span>
    <span class="s1">&#39;zoomIn&#39;</span><span class="p">,</span> <span class="s1">&#39;reset&#39;</span><span class="p">,</span> <span class="s1">&#39;zoomOut&#39;</span><span class="p">,</span> <span class="s1">&#39;config&#39;</span><span class="p">,</span> <span class="s1">&#39;objInspector&#39;</span><span class="p">])</span>   <span class="c1">// create all default common tool buttons</span>
  <span class="p">.</span><span class="nx">setChemToolButtons</span><span class="p">([</span><span class="s1">&#39;manipulate&#39;</span><span class="p">,</span> <span class="s1">&#39;erase&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="s1">&#39;formula&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ring&#39;</span><span class="p">,</span> <span class="s1">&#39;charge&#39;</span><span class="p">])</span>   <span class="c1">// create only chem tool buttons related to molecule</span>
  <span class="p">.</span><span class="nx">setStyleToolComponentNames</span><span class="p">([</span><span class="s1">&#39;fontName&#39;</span><span class="p">,</span> <span class="s1">&#39;fontSize&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">,</span>
    <span class="s1">&#39;textDirection&#39;</span><span class="p">,</span> <span class="s1">&#39;textAlign&#39;</span><span class="p">]);</span>  <span class="c1">// create all default style components</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/composerMolOnly.png" src="../_images/composerMolOnly.png" />
</div>
<dl class="docutils">
<dt><strong>&#8216;compact&#8217;</strong></dt>
<dd>Toolbar with most essential buttons. Equals to:</dd>
</dl>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">composer</span>
  <span class="p">.</span><span class="nx">setEnableStyleToolbar</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>  <span class="c1">// do not show style toolbar</span>
  <span class="p">.</span><span class="nx">setCommonToolButtons</span><span class="p">([</span><span class="s1">&#39;newDoc&#39;</span><span class="p">,</span> <span class="s1">&#39;loadData&#39;</span><span class="p">,</span> <span class="s1">&#39;saveData&#39;</span><span class="p">,</span> <span class="s1">&#39;undo&#39;</span><span class="p">,</span> <span class="s1">&#39;redo&#39;</span><span class="p">])</span>  <span class="c1">// create a small number of tool buttons</span>
  <span class="p">.</span><span class="nx">setChemToolButtons</span><span class="p">([</span><span class="s1">&#39;manipulate&#39;</span><span class="p">,</span> <span class="s1">&#39;erase&#39;</span><span class="p">,</span> <span class="s1">&#39;bond&#39;</span><span class="p">,</span> <span class="s1">&#39;atom&#39;</span><span class="p">,</span> <span class="s1">&#39;formula&#39;</span><span class="p">,</span>
    <span class="s1">&#39;ring&#39;</span><span class="p">,</span> <span class="s1">&#39;charge&#39;</span><span class="p">,</span> <span class="s1">&#39;glyph&#39;</span><span class="p">,</span> <span class="s1">&#39;textBlock&#39;</span><span class="p">]);</span>   <span class="c1">// create all default chem tool buttons</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/composerCompact.png" src="../_images/composerCompact.png" />
</div>
</div>
<div class="section" id="more-configurations">
<h2>More Configurations<a class="headerlink" href="#more-configurations" title="Permalink to this headline">¶</a></h2>
<p>Clicking on <em>Change Settings</em> button in the common toolbar, you may find that there are many other
configurable properties which affect many other aspects of composer, like interaction style, molecule
render style, text font style and color style. Those settings are all encapsulated in <code class="docutils literal"><span class="pre">renderConfigs</span></code>
and <code class="docutils literal"><span class="pre">editorConfigs</span></code> properties of composer. As those two properties are quite complex, they will not
be explained further in this tutorial. You may check the API document for their details.</p>
<table class="docutils footnote" frame="void" id="clipboard" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id3">3</a>)</em> Actually, clipboard of native OS can be be accessed by HTML and JavaScript
directly, so the clipboard operations in Kekule.js are simulated by
<a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage">local storage</a>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="example" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td><em>(<a class="fn-backref" href="#id4">1</a>, <a class="fn-backref" href="#id5">2</a>, <a class="fn-backref" href="#id6">3</a>, <a class="fn-backref" href="#id7">4</a>, <a class="fn-backref" href="#id8">5</a>, <a class="fn-backref" href="#id9">6</a>, <a class="fn-backref" href="#id10">7</a>, <a class="fn-backref" href="#id11">8</a>, <a class="fn-backref" href="#id12">9</a>, <a class="fn-backref" href="#id13">10</a>)</em> Example of this chapter can be found and run at <a class="reference external" href="../examples/composer.html">here</a>.</td></tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="chemViewer.html" title="Chem Viewer Widget"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Kekule Tutorial 2016.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Partridge Jiang.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>